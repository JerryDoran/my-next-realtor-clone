(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{4636:function(e,t,s){"use strict";s.d(t,{Z:function(){return d}});var n=s(1664),r=s.n(n),a=s(4803),i=s.n(a),c=s(5434),o=s(9583),l=s(5893);function d(e){var t,s=e.id,n=e.listing,a=e.onEdit,d=e.onDelete;return(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(r(),{href:"/category/".concat(n.type,"/").concat(s),children:(0,l.jsxs)("div",{className:"relative bg-white flex flex-col justify-between items-center shadow-md hover:shadow-xl rounded-md overflow-hidden transition-shadow duration-150 m-[10px] cursor-pointer",children:[(0,l.jsx)("img",{src:n.imgUrls[0],alt:"listing",loading:"lazy",className:"h-[170px] w-full object-cover hover:scale-105 transition-scale duration-200 ease-in"}),(0,l.jsx)(i(),{className:"absolute top-2 left-2 bg-[#3377cc] text-white uppercase text-xs font-semibold rounded-md px-2 py-1 shadow-lg",fromNow:!0,children:null===(t=n.timestamp)||void 0===t?void 0:t.toDate()}),(0,l.jsxs)("div",{className:"w-full p-[10px]",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,l.jsx)(c.$0r,{className:"h-5 w-5 text-green-600"}),(0,l.jsx)("p",{className:"font-semibold text-sm mb-[2px] text-gray-600 truncate",children:n.address})]}),(0,l.jsx)("p",{className:"font-semibold m-0 text-xl truncate",children:n.name}),(0,l.jsxs)("p",{className:"text-[#457b9d] mt-2 font-semibold",children:["$",null!==n&&void 0!==n&&n.offer?null===n||void 0===n?void 0:n.salePrice.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):null===n||void 0===n?void 0:n.regularPrice.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),"rent"===(null===n||void 0===n?void 0:n.type)&&" / month"]}),(0,l.jsxs)("div",{className:"flex items-center mt-[10px] space-x-3",children:[(0,l.jsx)("div",{className:"flex items-center space-x-1",children:(0,l.jsx)("p",{className:"font-bold text-xs",children:n.bedrooms>1?"".concat(n.bedrooms," Beds"):"1 Bed"})}),(0,l.jsx)("div",{className:"flex items-center space-x-1",children:(0,l.jsx)("p",{className:"font-bold text-xs",children:n.bathrooms>1?"".concat(n.bathrooms," Baths"):"1 Bath"})})]})]})]})}),d&&(0,l.jsx)(o.Xm5,{className:"absolute bottom-4 right-4 h-[14px] text-red-700 cursor-pointer",onClick:function(){return d(s)}}),d&&(0,l.jsx)(c.zmo,{className:"absolute bottom-4 right-10 h-4 w-4 text-gray-800 cursor-pointer",onClick:function(){return a(s)}})]})}},6273:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var n=s(5893);function r(){return(0,n.jsx)("div",{className:"bg-black bg-opacity-50 flex items-center justify-center fixed left-0 right-0 bottom-0 top-0 z-50",children:(0,n.jsx)("div",{children:(0,n.jsx)("img",{src:"https://raw.githubusercontent.com/sahandghavidel/realtor-clone-react/b50f6a27f7608cd9a245725e86a48067a0f2368a/src/assets/svg/spinner.svg",alt:"loading",className:"w-24 h-24"})})})}},17:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return b}});var n=s(29),r=s(7794),a=s.n(r),i=s(7294),c=s(1163),o=s(3247),l=s(8623),d=s(6273),u=s(719),x=s(8116),f=(s(2821),s(5893));function m(){var e=(0,i.useState)(),t=e[0],s=e[1],r=(0,i.useState)(!0),m=r[0],h=r[1];x.ZP.use([x.pt,x.W_,x.tl]);var p=(0,c.useRouter)();if((0,i.useEffect)((function(){function e(){return e=(0,n.Z)(a().mark((function e(){var t,n,r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,o.hJ)(l.db,"listings"),n=(0,o.IO)(t,(0,o.Xo)("timestamp","desc"),(0,o.b9)(5)),e.next=4,(0,o.PL)(n);case 4:r=e.sent,i=[],r.forEach((function(e){return i.push({id:e.id,data:e.data()})})),s(i),h(!1);case 9:case"end":return e.stop()}}),e)}))),e.apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),m)return(0,f.jsx)(d.Z,{});if(0===t.length)return(0,f.jsx)(f.Fragment,{});var g=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0});return t&&(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(u.tq,{slidesPerView:1,navigation:!0,pagination:{type:"progressbar"},effect:"fade",modules:[x.xW],autoplay:{delay:2e3},children:t.map((function(e){return(0,f.jsxs)(u.o5,{onClick:function(){return p.push("/category/".concat(e.data.type,"/").concat(e.id))},children:[(0,f.jsx)("div",{className:"relative w-full h-[300px] overflow-hidden cursor-pointer",style:{background:"url(".concat(e.data.imgUrls[0],") center no-repeat"),backgroundSize:"cover"}}),(0,f.jsx)("p",{className:"text-[#f1faee] absolute left-1 top-3 font-medium max-w-[90%] bg-[#457b9d] shadow-lg opacity-90 p-2 rounded-br-3xl",children:e.data.name}),(0,f.jsxs)("p",{className:"text-[#f1faee] absolute left-1 bottom-1 font-semibold max-w-[90%] bg-[#e63946] shadow-lg opacity-90 p-2 rounded-tr-3xl",children:[e.data.salePrice?g.format(e.data.salePrice):g.format(e.data.regularPrice),"rent"===e.data.type&&" / month"]})]},e.id)}))})})}var h=s(1664),p=s.n(h),g=s(4636);function b(){var e=(0,i.useState)([]),t=e[0],s=e[1],r=(0,i.useState)([]),c=r[0],d=r[1],u=(0,i.useState)([]),x=u[0],h=u[1];return(0,i.useEffect)((function(){function e(){return(e=(0,n.Z)(a().mark((function e(){var t,n,r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=(0,o.hJ)(l.db,"listings"),n=(0,o.IO)(t,(0,o.ar)("offer","==",!0),(0,o.Xo)("timestamp","desc"),(0,o.b9)(4)),e.next=5,(0,o.PL)(n);case 5:r=e.sent,i=[],r.forEach((function(e){return i.push({id:e.id,data:e.data()})})),s(i),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),(0,i.useEffect)((function(){function e(){return(e=(0,n.Z)(a().mark((function e(){var t,s,n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=(0,o.hJ)(l.db,"listings"),s=(0,o.IO)(t,(0,o.ar)("type","==","rent"),(0,o.Xo)("timestamp","desc"),(0,o.b9)(4)),e.next=5,(0,o.PL)(s);case 5:n=e.sent,r=[],n.forEach((function(e){return r.push({id:e.id,data:e.data()})})),d(r),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),(0,i.useEffect)((function(){function e(){return(e=(0,n.Z)(a().mark((function e(){var t,s,n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=(0,o.hJ)(l.db,"listings"),s=(0,o.IO)(t,(0,o.ar)("type","==","sell"),(0,o.Xo)("timestamp","desc"),(0,o.b9)(4)),e.next=5,(0,o.PL)(s);case 5:n=e.sent,r=[],n.forEach((function(e){return r.push({id:e.id,data:e.data()})})),h(r),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),(0,f.jsxs)("div",{children:[(0,f.jsx)(m,{}),(0,f.jsxs)("div",{className:"py-4 px-4 lg:px-40 mx-auto",children:[t&&t.length>0&&(0,f.jsxs)("section",{className:"mt-6",children:[(0,f.jsx)("h2",{className:"px-3 text-2xl font-semibold",children:"Recent Offers"}),(0,f.jsx)(p(),{href:"/offers",children:(0,f.jsx)("button",{className:"px-3 text-sm text-blue-600 hover:text-blue-800 transition",children:"Show more offers"})}),(0,f.jsx)("ul",{className:"sm:grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:t.map((function(e){return(0,f.jsx)(g.Z,{listing:e.data,id:e.id},e.id)}))})]}),c&&c.length>0&&(0,f.jsxs)("section",{className:"mt-6",children:[(0,f.jsx)("h2",{className:"px-3 text-2xl font-semibold",children:"Places for Rent"}),(0,f.jsx)(p(),{href:"/type/rent",children:(0,f.jsx)("button",{className:"px-3 text-sm text-blue-600 hover:text-blue-800 transition",children:"Show more places for rent"})}),(0,f.jsx)("ul",{className:"sm:grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:c.map((function(e){return(0,f.jsx)(g.Z,{listing:e.data,id:e.id},e.id)}))})]}),x&&x.length>0&&(0,f.jsxs)("section",{className:"mt-6",children:[(0,f.jsx)("h2",{className:"px-3 text-2xl font-semibold",children:"Places for Sale"}),(0,f.jsx)(p(),{href:"/type/sell",children:(0,f.jsx)("button",{className:"px-3 text-sm text-blue-600 hover:text-blue-800 transition",children:"Show more places for sale"})}),(0,f.jsx)("ul",{className:"sm:grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:x.map((function(e){return(0,f.jsx)(g.Z,{listing:e.data,id:e.id},e.id)}))})]})]})]})}},5557:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(17)}])}},function(e){e.O(0,[445,228,885,679,628,774,888,179],(function(){return t=5557,e(e.s=t);var t}));var t=e.O();_N_E=t}]);