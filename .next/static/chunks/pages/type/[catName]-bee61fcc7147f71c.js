(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5],{4636:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}});var n=r(1664),s=r.n(n),a=r(4803),o=r.n(a),c=r(5434),i=r(9583),l=r(5893);function d(e){var t,r=e.id,n=e.listing,a=e.onEdit,d=e.onDelete;return(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(s(),{href:"/category/".concat(n.type,"/").concat(r),children:(0,l.jsxs)("div",{className:"relative bg-white flex flex-col justify-between items-center shadow-md hover:shadow-xl rounded-md overflow-hidden transition-shadow duration-150 m-[10px] cursor-pointer",children:[(0,l.jsx)("img",{src:n.imgUrls[0],alt:"listing",loading:"lazy",className:"h-[170px] w-full object-cover hover:scale-105 transition-scale duration-200 ease-in"}),(0,l.jsx)(o(),{className:"absolute top-2 left-2 bg-[#3377cc] text-white uppercase text-xs font-semibold rounded-md px-2 py-1 shadow-lg",fromNow:!0,children:null===(t=n.timestamp)||void 0===t?void 0:t.toDate()}),(0,l.jsxs)("div",{className:"w-full p-[10px]",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,l.jsx)(c.$0r,{className:"h-5 w-5 text-green-600"}),(0,l.jsx)("p",{className:"font-semibold text-sm mb-[2px] text-gray-600 truncate",children:n.address})]}),(0,l.jsx)("p",{className:"font-semibold m-0 text-xl truncate",children:n.name}),(0,l.jsxs)("p",{className:"text-[#457b9d] mt-2 font-semibold",children:["$",null!==n&&void 0!==n&&n.offer?null===n||void 0===n?void 0:n.salePrice.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):null===n||void 0===n?void 0:n.regularPrice.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),"rent"===(null===n||void 0===n?void 0:n.type)&&" / month"]}),(0,l.jsxs)("div",{className:"flex items-center mt-[10px] space-x-3",children:[(0,l.jsx)("div",{className:"flex items-center space-x-1",children:(0,l.jsx)("p",{className:"font-bold text-xs",children:n.bedrooms>1?"".concat(n.bedrooms," Beds"):"1 Bed"})}),(0,l.jsx)("div",{className:"flex items-center space-x-1",children:(0,l.jsx)("p",{className:"font-bold text-xs",children:n.bathrooms>1?"".concat(n.bathrooms," Baths"):"1 Bath"})})]})]})]})}),d&&(0,l.jsx)(i.Xm5,{className:"absolute bottom-4 right-4 h-[14px] text-red-700 cursor-pointer",onClick:function(){return d(r)}}),d&&(0,l.jsx)(c.zmo,{className:"absolute bottom-4 right-10 h-4 w-4 text-gray-800 cursor-pointer",onClick:function(){return a(r)}})]})}},6273:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(5893);function s(){return(0,n.jsx)("div",{className:"bg-black bg-opacity-50 flex items-center justify-center fixed left-0 right-0 bottom-0 top-0 z-50",children:(0,n.jsx)("div",{children:(0,n.jsx)("img",{src:"https://raw.githubusercontent.com/sahandghavidel/realtor-clone-react/b50f6a27f7608cd9a245725e86a48067a0f2368a/src/assets/svg/spinner.svg",alt:"loading",className:"w-24 h-24"})})})}},5679:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return h}});var n=r(6687),s=r(29),a=r(7794),o=r.n(a),c=r(7294),i=r(2920),l=r(3247),d=r(8623),u=r(6273),m=r(4636),f=r(1163),x=r(5893);function h(){var e=(0,c.useState)([]),t=e[0],r=e[1],a=(0,c.useState)(!0),h=a[0],p=a[1],g=(0,c.useState)(null),v=g[0],b=g[1],y=(0,f.useRouter)();console.log(y.query),(0,c.useEffect)((function(){function e(){return(e=(0,s.Z)(o().mark((function e(){var t,n,s,a,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=(0,l.hJ)(d.db,"listings"),n=(0,l.IO)(t,(0,l.ar)("type","==",y.query.catName),(0,l.Xo)("timestamp","desc"),(0,l.b9)(4)),e.next=5,(0,l.PL)(n);case 5:s=e.sent,a=s.docs[s.docs.length-1],b(a),console.log(v),c=[],s.forEach((function(e){return c.push({id:e.id,data:e.data()})})),r(c),p(!1),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),i.Am.error("Could not fetch listings!");case 18:case"end":return e.stop()}}),e,null,[[0,15]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[y.query.catName]);var j=function(){var e=(0,s.Z)(o().mark((function e(){var t,s,a,c,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=(0,l.hJ)(d.db,"listings"),s=(0,l.IO)(t,(0,l.ar)("type","==",y.query.catName),(0,l.Xo)("timestamp","desc"),(0,l.TQ)(v),(0,l.b9)(4)),e.next=5,(0,l.PL)(s);case 5:a=e.sent,c=a.docs[a.docs.length-1],console.log(c),b(c),u=[],a.forEach((function(e){return u.push({id:e.id,data:e.data()})})),r((function(e){return[].concat((0,n.Z)(e),u)})),console.log(u),p(!1),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),i.Am.error("Could not fetch listings!");case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}();return(0,x.jsxs)("div",{className:"max-w-7xl mx-auto px-3",children:[(0,x.jsx)("h1",{className:"text-3xl text-center my-6 font-bold",children:"rent"===y.query.catName?"Places for Rent":"Places for Sale"}),h?(0,x.jsx)(u.Z,{}):t&&t.length>0?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("main",{children:(0,x.jsx)("ul",{className:"sm:grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5",children:t.map((function(e){return(0,x.jsx)(m.Z,{id:e.id,listing:e.data},e.id)}))})}),v&&(0,x.jsx)("div",{className:"flex justify-center align-center mt-8 ",children:(0,x.jsx)("button",{className:"bg-blue-600 px-3 py-1.5 text-white border-gray-300 rounded transition hover:bg-blue-700",onClick:j,children:"Load More"})})]}):(0,x.jsx)("p",{children:"There are no current offers"})]})}},7909:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/type/[catName]",function(){return r(5679)}])},6687:function(e,t,r){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"===typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}r.d(t,{Z:function(){return s}})}},function(e){e.O(0,[445,228,885,679,774,888,179],(function(){return t=7909,e(e.s=t);var t}));var t=e.O();_N_E=t}]);